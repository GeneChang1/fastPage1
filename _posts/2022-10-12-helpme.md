---
keywords: fastai
description: APIs can be found all over the internet.  A great consolidator of many APIs is <mark>RapidAPI</mark>.  In this blog we will use a site to consolidates API stats.  Learning a few lines of code and you can start extracting lots of data from the internet via APIs.  
title: Python RapidAPI
toc: true
image: /images/rapidapi.png
permalink: /techtalk/rapidapi
categories: [1.A, 5.B, 5.D]
tags: [api, rapidapi]
type: pbl
week: 7
nb_path: _notebooks/helpme.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/helpme.ipynb
-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Markdown</span> <span class="k">as</span> <span class="n">md</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://imdb8.p.rapidapi.com/auto-complete&quot;</span>

<span class="n">querystring</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;q&quot;</span><span class="p">:</span><span class="s2">&quot;Chris Pratt&quot;</span><span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
	<span class="s2">&quot;X-RapidAPI-Key&quot;</span><span class="p">:</span> <span class="s2">&quot;72b85464fcmsh525da0513109f2cp1d08fejsn081a3095bf66&quot;</span><span class="p">,</span>
	<span class="s2">&quot;X-RapidAPI-Host&quot;</span><span class="p">:</span> <span class="s2">&quot;imdb8.p.rapidapi.com&quot;</span>
<span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">querystring</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
<span class="n">querystring</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;nconst&quot;</span><span class="p">:</span><span class="s2">&quot;nm5927244&quot;</span><span class="p">}</span>
<span class="n">prattsearch</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">querystring</span><span class="p">)</span>

<span class="n">prattImage</span> <span class="o">=</span> <span class="n">prattsearch</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;image&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;url&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Here is the link to the image of toby you see below: &quot;</span> <span class="o">+</span> <span class="n">tobyImage</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#34;d&#34;:[{&#34;i&#34;:{&#34;height&#34;:2048,&#34;imageUrl&#34;:&#34;https://m.media-amazon.com/images/M/MV5BZjdkYjg1NzMtOTY2YS00ZWI1LWEwZWYtOTU1YTM2ODA2ZWY5XkEyXkFqcGdeQXVyMTM1MjAxMDc3._V1_.jpg&#34;,&#34;width&#34;:1536},&#34;id&#34;:&#34;nm0695435&#34;,&#34;l&#34;:&#34;Chris Pratt&#34;,&#34;rank&#34;:113,&#34;s&#34;:&#34;Actor, Guardians of the Galaxy (2014)&#34;},{&#34;id&#34;:&#34;nm9985479&#34;,&#34;l&#34;:&#34;Chris Pratt&#34;,&#34;rank&#34;:92249,&#34;s&#34;:&#34;Actor, Christopher Robin (2018)&#34;},{&#34;id&#34;:&#34;nm2212645&#34;,&#34;l&#34;:&#34;Chris Pratt&#34;,&#34;rank&#34;:168083,&#34;s&#34;:&#34;Actor, Motorcycle (2006)&#34;},{&#34;id&#34;:&#34;nm8802752&#34;,&#34;l&#34;:&#34;Chris Pratt&#34;,&#34;rank&#34;:431449},{&#34;i&#34;:{&#34;height&#34;:800,&#34;imageUrl&#34;:&#34;https://m.media-amazon.com/images/M/MV5BZWE4MTEyM2YtOGNhNS00NmZkLWI1NjktNzlmZDcxZjM1ODc2XkEyXkFqcGdeQXVyMTA3NzIyMDM0._V1_.jpg&#34;,&#34;width&#34;:800},&#34;id&#34;:&#34;nm7947770&#34;,&#34;l&#34;:&#34;Chris Pratt&#34;,&#34;rank&#34;:535176,&#34;s&#34;:&#34;Music Department, Deviant Love (2019)&#34;},{&#34;id&#34;:&#34;tt6667532&#34;,&#34;l&#34;:&#34;Passengers: On the Set with Chris Pratt&#34;,&#34;q&#34;:&#34;video&#34;,&#34;qid&#34;:&#34;video&#34;,&#34;rank&#34;:677160,&#34;s&#34;:&#34;Chris Pratt, Greg Baxter&#34;,&#34;y&#34;:2017},{&#34;i&#34;:{&#34;height&#34;:1489,&#34;imageUrl&#34;:&#34;https://m.media-amazon.com/images/M/MV5BZjU2NjFhNDQtNzZkMS00NzIxLTllNTAtODEzNzBmOGJhNmZhXkEyXkFqcGdeQXVyMjQ0NzE0MQ@@._V1_.jpg&#34;,&#34;width&#34;:1169},&#34;id&#34;:&#34;tt5301518&#34;,&#34;l&#34;:&#34;Jurassic World: Innovation Center Tour with Chris Pratt&#34;,&#34;q&#34;:&#34;video&#34;,&#34;qid&#34;:&#34;video&#34;,&#34;rank&#34;:502130,&#34;s&#34;:&#34;Chris Pratt, Colin Trevorrow&#34;,&#34;y&#34;:2015},{&#34;id&#34;:&#34;nm9972450&#34;,&#34;l&#34;:&#34;Chris Pratt&#34;,&#34;rank&#34;:1173487,&#34;s&#34;:&#34;Costume Department, Auto (2017)&#34;}],&#34;q&#34;:&#34;chris%20pratt&#34;,&#34;v&#34;:1}
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">JSONDecodeError</span>                           Traceback (most recent call last)
File <span class="ansi-green-fg">~/Library/Python/3.8/lib/python/site-packages/requests/models.py:971</span>, in <span class="ansi-cyan-fg">Response.json</span><span class="ansi-blue-fg">(self, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    970</span> try:
<span class="ansi-green-fg">--&gt; 971</span>     return complexjson.loads(self.text, **kwargs)
<span class="ansi-green-intense-fg ansi-bold">    972</span> except JSONDecodeError as e:
<span class="ansi-green-intense-fg ansi-bold">    973</span>     # Catch JSON-related errors and raise as requests.JSONDecodeError
<span class="ansi-green-intense-fg ansi-bold">    974</span>     # This aliases json.JSONDecodeError and simplejson.JSONDecodeError

File <span class="ansi-green-fg">/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/__init__.py:357</span>, in <span class="ansi-cyan-fg">loads</span><span class="ansi-blue-fg">(s, cls, object_hook, parse_float, parse_int, parse_constant, object_pairs_hook, **kw)</span>
<span class="ansi-green-intense-fg ansi-bold">    354</span> if (cls is None and object_hook is None and
<span class="ansi-green-intense-fg ansi-bold">    355</span>         parse_int is None and parse_float is None and
<span class="ansi-green-intense-fg ansi-bold">    356</span>         parse_constant is None and object_pairs_hook is None and not kw):
<span class="ansi-green-fg">--&gt; 357</span>     return _default_decoder.decode(s)
<span class="ansi-green-intense-fg ansi-bold">    358</span> if cls is None:

File <span class="ansi-green-fg">/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/decoder.py:337</span>, in <span class="ansi-cyan-fg">JSONDecoder.decode</span><span class="ansi-blue-fg">(self, s, _w)</span>
<span class="ansi-green-intense-fg ansi-bold">    333</span> &#34;&#34;&#34;Return the Python representation of ``s`` (a ``str`` instance
<span class="ansi-green-intense-fg ansi-bold">    334</span> containing a JSON document).
<span class="ansi-green-intense-fg ansi-bold">    335</span> 
<span class="ansi-green-intense-fg ansi-bold">    336</span> &#34;&#34;&#34;
<span class="ansi-green-fg">--&gt; 337</span> obj, end = self.raw_decode(s, idx=_w(s, 0).end())
<span class="ansi-green-intense-fg ansi-bold">    338</span> end = _w(s, end).end()

File <span class="ansi-green-fg">/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/json/decoder.py:355</span>, in <span class="ansi-cyan-fg">JSONDecoder.raw_decode</span><span class="ansi-blue-fg">(self, s, idx)</span>
<span class="ansi-green-intense-fg ansi-bold">    354</span> except StopIteration as err:
<span class="ansi-green-fg">--&gt; 355</span>     raise JSONDecodeError(&#34;Expecting value&#34;, s, err.value) from None
<span class="ansi-green-intense-fg ansi-bold">    356</span> return obj, end

<span class="ansi-red-fg">JSONDecodeError</span>: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

<span class="ansi-red-fg">JSONDecodeError</span>                           Traceback (most recent call last)
<span class="ansi-green-intense-fg ansi-bold">/Users/genechang/fastPage1/_notebooks/helpme.ipynb Cell 2</span> in <span class="ansi-cyan-fg">&lt;cell line: 18&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">     &lt;a href=&#39;vscode-notebook-cell:/Users/genechang/fastPage1/_notebooks/helpme.ipynb#W1sZmlsZQ%3D%3D?line=14&#39;&gt;15&lt;/a&gt;</span> querystring = {&#34;nconst&#34;:&#34;nm5927244&#34;}
<span class="ansi-green-intense-fg ansi-bold">     &lt;a href=&#39;vscode-notebook-cell:/Users/genechang/fastPage1/_notebooks/helpme.ipynb#W1sZmlsZQ%3D%3D?line=15&#39;&gt;16&lt;/a&gt;</span> prattsearch = requests.request(&#34;GET&#34;, url, headers=headers, params=querystring)
<span class="ansi-green-fg">---&gt; &lt;a href=&#39;vscode-notebook-cell:/Users/genechang/fastPage1/_notebooks/helpme.ipynb#W1sZmlsZQ%3D%3D?line=17&#39;&gt;18&lt;/a&gt;</span> tobyImage = prattsearch.json().get(&#34;image&#34;).get(&#34;url&#34;)
<span class="ansi-green-intense-fg ansi-bold">     &lt;a href=&#39;vscode-notebook-cell:/Users/genechang/fastPage1/_notebooks/helpme.ipynb#W1sZmlsZQ%3D%3D?line=18&#39;&gt;19&lt;/a&gt;</span> print(&#34;Here is the link to the image of toby you see below: &#34; + tobyImage)

File <span class="ansi-green-fg">~/Library/Python/3.8/lib/python/site-packages/requests/models.py:975</span>, in <span class="ansi-cyan-fg">Response.json</span><span class="ansi-blue-fg">(self, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    971</span>     return complexjson.loads(self.text, **kwargs)
<span class="ansi-green-intense-fg ansi-bold">    972</span> except JSONDecodeError as e:
<span class="ansi-green-intense-fg ansi-bold">    973</span>     # Catch JSON-related errors and raise as requests.JSONDecodeError
<span class="ansi-green-intense-fg ansi-bold">    974</span>     # This aliases json.JSONDecodeError and simplejson.JSONDecodeError
<span class="ansi-green-fg">--&gt; 975</span>     raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)

<span class="ansi-red-fg">JSONDecodeError</span>: Expecting value: line 1 column 1 (char 0)</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

